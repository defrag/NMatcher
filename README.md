# NMatcher

#### NMatcher is a test utility, that lets you easier test responses and json, when some part of the response is something out of your control (autogenerated id, guid, datetime etc). It ports functionality of original php-matcher library to dotnet. 

[![Build status](https://ci.appveyor.com/api/projects/status/fiqb0cebjqa92mht/branch/master?svg=true)](https://ci.appveyor.com/project/MichalDabrowski/nmatcher/branch/master)

#### Here is an overview what NMatcher can do for you:

```csharp

[Fact]
public void it_matches_nested_json()
{
    var matcher = new Matcher();

    var result = matcher.MatchJson(
        @"
        {
            ""id"" : ""some-uid-here"",
            ""subnode"" : {
                ""city"" : ""NY"",
                ""zipCode"" : ""80-000"",
                ""meta"" : {
                    ""name"" : ""fuuuuuu"",
                    ""shipping"": 99.99,
                    ""enabled"" : false,
                    ""_link"" : ""http://example.com?page=2"",
                    ""_something"" : null,
                    ""_arr"" : [1, 2, 3],
                    ""_date"" : ""2018-01-01""
                }
            }
        }",
        @"
        {
            ""id"" : ""@string@"",
            ""subnode"" : {
                ""city"" : ""NY"",
                ""zipCode"" : ""@string@"",
                ""meta"" : {
                    ""name"" : ""@string@.Contains('fuu')"",
                    ""shipping"": ""@double@"",
                    ""enabled"" : ""@bool@"",
                    ""_link"" : ""@any@"",
                    ""_something"" : ""@null@"",
                    ""_arr"" : [1, 2, 3],
                    ""_date"" : ""@string@.IsDateTime()""
                }
            }
        }"
    );

    Assert.True(result.Successful);
}
```

#### Available expressions: 
* @string@
* @int@
* @double@
* @bool@
* @null@
* @any@
